webpackJsonp([8],{"F/uV":function(e,t){},ItCA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dxul"),l={props:{title:{type:String,default:"提示"},isShow:{type:Boolean,default:!1},showCancelButton:{type:Boolean,default:!1},showConfirmButton:{type:Boolean,default:!0},confirmButtonText:{type:String,default:"确认"},cancelButtonText:{type:String,default:"取消"}},methods:{handleAction:function(e){this.$emit("callback",e)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-box-module"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"message-box-modal"}),e._v(" "),s("transition",{attrs:{name:"msgbox-bounce"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"message-box"},[""!==e.title?s("div",{staticClass:"message-box-title"},[e._v("\n        "+e._s(e.title)+"\n        "),s("i",{staticClass:"el-message-box__close el-icon-close close",on:{click:function(t){e.handleAction("cancel")}}})]):e._e(),e._v(" "),s("div",{staticClass:"message-box-content"},[e._t("message-box-content")],2),e._v(" "),s("div",{staticClass:"message-box-btn"},[s("div",{staticClass:"fr"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showCancelButton,expression:"showCancelButton"}],on:{click:function(t){e.handleAction("cancel")}}},[e._v(e._s(e.cancelButtonText))]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],attrs:{type:"primary"},on:{click:function(t){e.handleAction("confirm")}}},[e._v(e._s(e.confirmButtonText))])],1)])])])],1)},staticRenderFns:[]};var o=s("VU/8")(l,i,!1,function(e){s("z+Ek")},null,null).exports,n=s("P9l9"),r={name:"demo2",data:function(){return{msgShow:!1,msgShowCancelButton:!0,form:{name:"",region:"",date:"",sendSwitch:!1,tag:["2"],state:"",desc:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date:[{required:!0,message:"请输入活动时间",trigger:"blur"}],tag:[{required:!0,message:"请选择",trigger:"blur"}],state:[{required:!0,message:"请选择",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]},fileList:[],fileImg:{xls:"file_excel.png",xlsx:"file_excel.png",doc:"file_word.png",docx:"file_word.png",pdf:"file_pdf.png"},loading:!1}},components:{titleBar:a.a,messageBox:o},methods:{onSubmit:function(){},handleAction:function(){this.msgShow=!1},submit:function(){this.$router.push({name:"FormSuccessMsg"})},deleteSelectFile:function(e){this.fileList.splice(e,1)},uploadFile:function(e){var t=this,s=e.target.files?e.target.files[0]:"";if(console.log(s),this.$refs.selectFile.value){var a=this.$refs.selectFile.value,l=a.substring(a.lastIndexOf(".")+1,a.length);if("xls"===l||"xlsx"===l)if("function"==typeof FileReader){var i=new FormData;i.append("file",this.$refs.selectFile.files[0]);var o={data:i};if(s&&s.size>10485760)return void this.$message({type:"warning",message:"选择的文件大于10M"});this.loading=!0,n.a.upload({params:o}).then(function(e){t.$message({type:"success",message:"文件上传成功!"}),t.fileList.push({size:(s.size/1024/1024).toFixed(2)+"M",name:s.name,type:l}),t.loading=!1}).catch(function(e){t.$message({type:"error",message:"文件上传异常!"}),t.loading=!1})}else{var r=document.createElement("iframe");r.width=0,r.height=0,r.name="upload-iframe",r.id="upload-iframe",r.setAttribute("style","width: 0; height: 0; border: none;"),this.$refs.selectFile.parentNode.appendChild(r);var c=document.createElement("form");c.setAttribute("method","POST"),c.setAttribute("action","/cloudfs/api/fs/upload"),c.setAttribute("enctype","multipart/form-data"),c.setAttribute("target","upload-iframe"),c.setAttribute("encoding","multipart/form-data"),r.appendChild(c),c.appendChild(this.$refs.selectFile),r.onload=function(){var e=r.contentDocument.body.textContent||r.contentWindow.document.body.textContent;try{e=JSON.parse(e)}catch(t){e={}}console.log(e),"SUCCESS"===e.state?t.$message({type:"success",message:"文件上传成功!"}):t.$message({type:"error",message:"文件上传异常!"})},c.submit()}else this.$message({type:"warning",message:"选择的文件格式错误"})}else this.$message({type:"warning",message:"导入文件没有选择"})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-container"},[s("title-bar",{attrs:{titleName:"表单填写"}},[s("template",{slot:"tool"},[s("span",{staticClass:"tool"},[s("el-button",{staticClass:"el-button-reset"},[e._v("删除")]),e._v(" "),s("el-button",{staticClass:"el-button-reset"},[e._v("返回")]),e._v(" "),s("el-button",{staticClass:"el-button-reset"},[e._v("保存")]),e._v(" "),s("el-button",{staticClass:"el-button-reset",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)])],2),e._v(" "),s("div",{staticClass:"form-list"},[s("el-form",{ref:"form",attrs:{"label-position":"right",model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"活动名称:",prop:"name"}},[s("el-input",{staticStyle:{width:"420px"},attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"活动区域:",prop:"region"}},[s("el-select",{staticStyle:{width:"420px"},attrs:{placeholder:"请选择"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[s("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),s("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"活动时间:",prop:"date"}},[s("el-date-picker",{staticStyle:{width:"420px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"即使配送:"}},[s("el-switch",{model:{value:e.form.sendSwitch,callback:function(t){e.$set(e.form,"sendSwitch",t)},expression:"form.sendSwitch"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"活动性质:",prop:"tag"}},[s("el-checkbox-group",{model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},[s("el-checkbox",{attrs:{label:"1",name:"type"}},[e._v("美食/餐厅线上活动")]),e._v(" "),s("el-checkbox",{attrs:{label:"2",name:"type"}},[e._v("地推活动")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"特殊资源:",prop:"state"}},[s("el-radio-group",{model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[s("el-radio",{attrs:{label:"1"}},[e._v("线上品牌商赞助")]),e._v(" "),s("el-radio",{attrs:{label:"2"}},[e._v("线下场地免费")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"活动形式:",prop:"desc"}},[s("el-input",{staticStyle:{width:"420px"},attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"活动素材:"}},[s("div",{staticClass:"upload-operation"},[s("span",{staticClass:"upload-btn"},[s("label",{staticClass:"upload-span",attrs:{for:"file_upload"}},[e._v("点击上传\n              "),s("input",{ref:"selectFile",staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"file_upload"},on:{change:e.uploadFile}})])]),e._v(" "),s("span",{staticClass:"form-send__desc"},[e._v("只能上传xls,xlsx文件，且不超过10M")]),e._v(" "),e.loading?s("span",{staticClass:"form-send__desc"},[s("i",{staticClass:"el-icon-loading"}),e._v("文件上传中...")]):e._e()]),e._v(" "),s("div",{staticClass:"upload-success__list"},e._l(e.fileList,function(t,a){return s("div",{staticClass:"upload-success__item"},[s("img",{staticClass:"upload-success__item-img fl",attrs:{src:"../../../static/"+e.fileImg[t.type],alt:""}}),e._v(" "),s("span",{staticClass:"upload-success__item-name"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"upload-success__item-size"},[e._v(e._s(t.size))]),e._v(" "),s("i",{staticClass:"el-icon-close fr upload-success__item-close",on:{click:function(t){e.deleteSelectFile(a,t)}}})])}))])],1)],1),e._v(" "),s("message-box",{attrs:{title:"商品类别",isShow:e.msgShow,showCancelButton:e.msgShowCancelButton},on:{callback:e.handleAction}},[s("div",{staticClass:"layout",attrs:{slot:"message-box-content"},slot:"message-box-content"},[s("div",[s("button",{staticClass:"classify selected"},[e._v("饮料/水")])])])])],1)},staticRenderFns:[]};var m=s("VU/8")(r,c,!1,function(e){s("F/uV"),s("mq4Y")},"data-v-aafa261c",null);t.default=m.exports},mq4Y:function(e,t){},"z+Ek":function(e,t){}});
//# sourceMappingURL=8.b4a884b0ccb4736e7047.js.map